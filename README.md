# virtual-job-portal-sprint2

## 🌀 Log Rotator Script (Weekly Backup)

This is a simple shell script that helps in rotating and archiving log files every week.

**Script Name:** `log_rotator.sh`  
**Purpose:** Automates the backup and cleanup of `.log` files every week using a shell script and scheduler.

---

## 📜 Description

This script helps manage log files generated by the Virtual Job Portal system. It:

- Finds all `.log` files inside the `logs/` directory
- Compresses them into a timestamped `.tar.gz` archive
- Clears the original `.log` files after successful backup
- Stores the archive in the `logs/archive/` folder
- Logs the process in `log_archiver_activity.log`
- Deletes archives older than 7 days

---

## 🗓️ Scheduler Details

**Scheduler Used:** Windows Task Scheduler  
**Runs At:** Every Sunday at 12:00 AM  
**Executes:** `log_rotator.sh` via Git Bash

### 🖥️ Task Scheduler Configuration

- **Program/script:**  
  ```
  C:\Program Files\Git\bin\bash.exe
  ```

- **Add arguments:**  
  ```
  -c "/c/Users/ASUS/Desktop/shell-scripting/log_rotator.sh"
  ```

✅ This ensures the script runs automatically every week without manual effort.

---

## 🧪 How to Run the Script Manually (Git Bash or Linux Terminal)

```bash
chmod +x log_rotator.sh
./log_rotator.sh
```

After running:
- A compressed archive will appear inside `logs/archive/`
- `app.log` and `error.log` will be emptied
- A log file (`log_archiver_activity.log`) will record the process

---

### 🐧 On Linux/macOS (using `cron`)

Open terminal and type:

```bash
crontab -e
```

Add this line to run the script every Sunday at 12:00 AM:

```
0 0 * * 0 /bin/bash /full/path/to/log_rotator.sh
```

---

## 🗂 Folder Structure

```
log_rotator.sh
logs/
├── app.log
├── error.log
└── archive/
    ├── logs_YYYY-MM-DD_HH-MM.tar.gz
    └── log_archiver_activity.log
```

> 📝 Note: The `archive/` folder is automatically created by the script if it does not exist.

---

## ✅ Summary

This script ensures your log files are backed up regularly and cleaned automatically, keeping the system organized and production-ready.
